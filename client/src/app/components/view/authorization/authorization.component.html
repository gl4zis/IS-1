<div class="form center">
  <p-card>
    <ng-template pTemplate="title">{{ isSignIn ? 'Sign In' : 'Sign Up' }}</ng-template>
    <div *ngIf="authService.checkLogIn()">
      <div class="center">
        You are already authorized as '{{ authService.getLogin() }}'
      </div>
      <div class="center input">
        <p-button severity="danger" size="small" (click)="authService.logout()">Logout</p-button>
        <a href="/table"><p-button [link]="true" size="small">Go to table</p-button></a>
      </div>
    </div>

    <div *ngIf="!authService.checkLogIn()">
      <div class="center" style="white-space: pre-line;">
        {{ isSignIn ? 'Doesn\'t' : 'Already '}} have an account?
      </div>
      <div class="center ref" (click)="changeForm()">{{ isSignIn ? 'Sign Up' : 'Sign In' }}</div>

      <div class="input">
        <p-floatLabel>
          <input pInputText
                 id="login"
                 required
                 minlength="4"
                 [(ngModel)]="form.login"
                 #login="ngModel"/>
          <label for="login">Username</label>
        </p-floatLabel>
        <div class="error" *ngIf="login.invalid && (login.touched || login.dirty)">
          Username should have at least 4 symbols
        </div>
      </div>

      <div class="input">
        <p-floatLabel>
          <p-password id="password"
                      [(ngModel)]="form.password"
                      [toggleMask]="true"
                      [feedback]="false"
                      required
                      minlength="6"
                      #password="ngModel"/>
          <label for="password">Password</label>
        </p-floatLabel>
        <div class="error" *ngIf="password.invalid && (password.touched || password.dirty)">
          Password should have at least 6 symbols
        </div>
      </div>

      <div *ngIf="!isSignIn" class="input center">
        <p-checkbox
          id="admin-toggle"
          [(ngModel)]="isAdmin"
          [binary]="true"/>
        <label for="admin-toggle" style="margin-left: 5px;">I wanna be admin</label>
      </div>

      <div class="center" style="margin-top: 30px;">
        <p-button (click)="onSubmit()" [disabled]="login.invalid || password.invalid">Submit</p-button>
      </div>
    </div>
  </p-card>
</div>
